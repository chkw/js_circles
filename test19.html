<!DOCTYPE html>
<html>
	<head>
		<title>test19.html</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/main19.css" type="text/css" />
		<link type="text/css" rel="stylesheet" href="bower_components/jQuery-contextMenu/src/jquery.contextmenu.css">

		<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>

		<script type="text/javascript" src="bower_components/jQuery-contextMenu/src/jquery.contextMenu.js"></script>

		<script type="text/javascript" src="bower_components/d3/d3.min.js"></script>
		<script type="text/javascript" src="bower_components/jstat/dist/jstat.min.js"></script>
		<script type="text/javascript" src="scripts/utils.js"></script>
		<script type="text/javascript" src="scripts/OD_eventData.js"></script>
		<script type="text/javascript" src="scripts/graphData.js"></script>
		<script type="text/javascript" src="scripts/medbook_data_load.js"></script>
		<script type="text/javascript" src="scripts/circleMapGenerator.js"></script>

		<script type="text/javascript" src="scripts/circleMapGraph.js"></script>

		<!-- <script type="text/javascript" src="scripts/circleMapGraph_package.js"></script> -->

		<noscript>
			<div align="center">
				<p style="color:black;background-color:red;font-size:18pt">
					This website requires JavaScript.  Please turn on JavaScript and then <a href="">try it again</a>.
				</p>
			</div>
		</noscript>
	</head>
	<body>
		<div id='graphDiv' style="background-color: goldenrod">
			Network graph.
		</div>
		<script>
            // event data

            eventAlbum = new eventData.OD_eventAlbum();
            medbookDataLoader.getExpressionData('data/expression.tab', eventAlbum);
            medbookDataLoader.getClinicalData('data/subtype.tab', eventAlbum);
            medbookDataLoader.getViperData('data/viper.tab', eventAlbum);

            console.log('eventAlbum', eventAlbum);

            // pathway
            graphDataURL = "data/vlado_suz12.sif";
            graph = new graphData.graphData();
            graph.readSif(utils.getResponse(graphDataURL));

            console.log('graph', graph);

            // medbookDataLoader.mongoClinicalData(clinicalData, eventAlbum);
            //
            // circlemap settings
            queryData = {
                // "features" : ['ABTB2_mRNA', 'APOBEC3F_mRNA', 'APP_mRNA', 'AR_mRNA', 'DZIP1_mRNA', 'EPAS1_mRNA', 'ERG_mRNA', 'ESR2_mRNA', 'FGD1_mRNA', 'FKBP9_mRNA', 'IL6_mRNA', 'MYOM2_mRNA', 'NCOA1_mRNA', 'P2RY10_mRNA', 'PPP2R5C_mRNA', 'PTGER3_mRNA', 'SLC16A1_mRNA', 'ST5_mRNA', 'TBC1D16_mRNA', 'TBX21_mRNA', 'TGFB1_mRNA', 'TGFB2_mRNA', 'UGDH_mRNA', 'USP20_mRNA', 'VEGFA_mRNA', 'ZFPM2_mRNA'],
                "ringsList" : ["core_subtype", "expression data", 'viper data'],
                "orderFeature" : ['core_subtype', "SUZ12_mRNA"],
                "sortingRing" : "expression data",
            };

            cmg = new circleMapGenerator.circleMapGenerator(eventAlbum, queryData);
            query = queryData;

            circleDataLoaded = (utils.getQueryStringParameterByName('circles').toLowerCase() === 'true') ? true : false;
            // circleDataLoaded = false;

            // build circle map graph
            circleMapGraph.buildCircleMapGraph(document.getElementById('graphDiv'), graph, cmg, circleDataLoaded);

		</script>
	</body>
</html>